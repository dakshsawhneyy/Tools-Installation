- name: Install Cosign
      uses: sigstore/cosign-installer@main

    - name: Sign the docker image with Cosign
      run: |
        echo "${{ secrets.COSIGN_PASSWORD }}" | cosign sign \
          --key env://COSIGN_PRIVATE_KEY \
          '${{ secrets.DOCKER_USERNAME }}/demo-service-a:${{ github.sha }}'
      env:
        COSIGN_PRIVATE_KEY: '${{ secrets.COSIGN_PRIVATE_KEY }}'
